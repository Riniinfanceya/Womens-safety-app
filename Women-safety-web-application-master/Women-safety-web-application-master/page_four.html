<!DOCTYPE html>
<html>
<head>
    <title>Safety Alarm</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function playAlarm() {
          document.getElementById('audio').play();
        }
        function stopAlarm() {
          document.getElementById('audio').pause();
        }
    </script>
</head>
<body>
<div id="menubar">
    <ul id="menu">
        <li><a href="index.html">Welcome Page</a></li>
        <li><a href="page_one.html">Navigation</a></li>
        <li><a href="page_two.html">Safe Zone</a></li>
        <li><a href="page_three.html">Guardians</a></li>
        <li class="selected"><a href="page_four.html">Safety Alarm</a></li>
    </ul>
</div>

<div style="text-align:center; padding:50px;">
    <h2>Emergency Alarm</h2>
    <button onclick="playAlarm()">Play Alarm</button>
    <button onclick="stopAlarm()">Stop Alarm</button>
    <br><br>
    <script>
        function playSiren() {
          const ctx = new (window.AudioContext || window.webkitAudioContext)();
          const osc = ctx.createOscillator();
          const gain = ctx.createGain();
          osc.type = 'sine';
          osc.connect(gain);
          gain.connect(ctx.destination);

          let increasing = true;
          osc.frequency.value = 600;
          gain.gain.value = 0.3;
          osc.start();

          const interval = setInterval(() => {
            osc.frequency.value += increasing ? 20 : -20;
            if (osc.frequency.value > 1000 || osc.frequency.value < 600) increasing = !increasing;
          }, 30);

          setTimeout(() => {
            clearInterval(interval);
            osc.stop();
          }, 5000); // plays for 5 seconds
        }
    </script>

    <button onclick="playSiren()">Play Siren</button>

</div>
</body>
</html>
